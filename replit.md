# TrustCars.co.in - Used Car Dealership Website

## Overview

TrustCars.co.in is a premium used car dealership website built as a full-stack TypeScript application. It features a deep royal blue and gold-themed UI showcasing certified pre-owned cars with a splash screen, car listings, individual car detail pages, customer testimonials, and an enquiry/contact system. The site targets an Indian market (Mumbai-based dealership).

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend
- **Framework**: React 18 with TypeScript, bundled by Vite
- **Routing**: Wouter (lightweight React router)
- **State/Data Fetching**: TanStack React Query for server state management
- **Styling**: Tailwind CSS with CSS variables for theming (dark royal blue + gold/yellow accent)
- **UI Components**: shadcn/ui (new-york style) built on Radix UI primitives
- **Animations**: Framer Motion for page transitions, splash screen, and scroll animations
- **Icons**: Lucide React
- **Fonts**: DM Sans (body) and Outfit (display/headings) via Google Fonts
- **Path aliases**: `@/` maps to `client/src/`, `@shared/` maps to `shared/`, `@assets/` maps to `attached_assets/`

### Pages
- `/` — Splash screen (auto-redirects to `/home` after 2.5s)
- `/home` — Hero section, featured cars, testimonials, value propositions
- `/collection` — Full car listing with search filtering
- `/car/:id` — Individual car details with enquiry form
- `/contact` — Contact information and general enquiry form

### Backend
- **Runtime**: Node.js with Express
- **Language**: TypeScript, executed via tsx
- **API Pattern**: RESTful JSON API under `/api/` prefix
- **Route definitions**: Centralized in `shared/routes.ts` with Zod schemas for input validation and response types
- **Development**: Vite dev server middleware integrated into Express for HMR
- **Production**: Vite builds static files to `dist/public`, Express serves them; server bundled with esbuild to `dist/index.cjs`

### API Endpoints
- `GET /api/cars` — List all cars
- `GET /api/cars/:id` — Get single car details
- `POST /api/enquiries` — Submit an enquiry (validated with Zod)
- `GET /api/testimonials` — List testimonials

### Database
- **Database**: PostgreSQL (required, connection via `DATABASE_URL` environment variable)
- **ORM**: Drizzle ORM with `drizzle-zod` for schema-to-validation integration
- **Schema location**: `shared/schema.ts` (shared between client and server)
- **Migrations**: Generated by `drizzle-kit` into `./migrations` directory
- **Schema push**: `npm run db:push` uses drizzle-kit to push schema directly
- **Tables**:
  - `cars` — id, make, model, year, price, mileage, fuelType, transmission, imageUrls (text array), description, isSold
  - `enquiries` — id, name, phone, message, carId (optional), createdAt
  - `testimonials` — id, name, role, content, rating, avatarUrl

### Shared Code (`shared/`)
- `schema.ts` — Drizzle table definitions, Zod insert schemas, TypeScript types (used by both client and server)
- `routes.ts` — API route definitions with paths, methods, Zod input/response schemas (acts as a typed API contract)

### Build System
- **Dev**: `npm run dev` runs tsx on `server/index.ts`, which sets up Vite middleware for the React frontend
- **Build**: `npm run build` runs a custom script that builds the client with Vite and the server with esbuild
- **Start**: `npm start` runs the production bundle from `dist/index.cjs`
- **Type check**: `npm run check` runs tsc with noEmit

### Storage Layer
- `server/storage.ts` defines an `IStorage` interface and `DatabaseStorage` implementation
- The database is seeded with sample car and testimonial data on server startup

## External Dependencies

### Database
- **PostgreSQL** — Primary data store, connected via `DATABASE_URL` environment variable
- **connect-pg-simple** — PostgreSQL session store (available but sessions not currently active)
- **pg** — Node.js PostgreSQL client (Pool-based connection)

### Key NPM Packages
- **drizzle-orm** + **drizzle-kit** — ORM and migration tooling
- **zod** + **drizzle-zod** — Schema validation and type inference
- **express** — HTTP server framework
- **@tanstack/react-query** — Client-side data fetching/caching
- **framer-motion** — Animation library
- **react-hook-form** + **@hookform/resolvers** — Form handling with Zod validation
- **wouter** — Client-side routing
- **shadcn/ui ecosystem** — Radix UI primitives, class-variance-authority, clsx, tailwind-merge
- **embla-carousel-react** — Carousel component
- **recharts** — Chart library (available via shadcn chart component)

### Replit-Specific
- **@replit/vite-plugin-runtime-error-modal** — Runtime error overlay in development
- **@replit/vite-plugin-cartographer** — Development tooling (dev only)
- **@replit/vite-plugin-dev-banner** — Development banner (dev only)